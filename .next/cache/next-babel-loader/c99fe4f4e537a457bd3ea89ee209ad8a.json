{"ast":null,"code":"var _jsxFileName = \"/Users/kevin/Desktop/Next.js-Mongodb-Authentication-App/components/AfterLogin.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { useUser } from \"../lib/hooks\";\nexport default function afterLogin() {\n  const {\n    0: errorMsg,\n    1: setErrorMsg\n  } = useState(\"\");\n  const [user] = useUser();\n  const {\n    0: Loader,\n    1: updateLoad\n  } = useState(false);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    updateLoad(true);\n    const body = {\n      message: e.currentTarget.message.value,\n      name: user.name\n    };\n    const res = await fetch(\"/api/message\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    });\n\n    if (res.status === 201) {\n      M.toast({\n        html: \"Message sent\",\n        classes: \"green\"\n      });\n    } else {\n      setErrorMsg(await res.text());\n    }\n\n    updateLoad(false);\n  };\n\n  return __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"col s12 m12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"card-panel horizontal blue \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    className: \"white-text h3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }\n  }, \"Your PassKey is : \", user.passKey))), errorMsg ? __jsx(\"p\", {\n    style: {\n      color: \"teal\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 19\n    }\n  }, errorMsg) : null, __jsx(\"form\", {\n    className: \"col s12\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"input-field col s12 m9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, __jsx(\"i\", {\n    className: \"material-icons prefix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, \"mode_edit\"), __jsx(\"textarea\", {\n    id: \"message\",\n    className: \"materialize-textarea\",\n    name: \"message\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \"Message for developer\")), __jsx(\"button\", {\n    className: \"btn-small waves-effect waves-light blue\",\n    type: \"submit\",\n    style: {\n      marginTop: \"1.7rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Send\", !Loader ? __jsx(\"i\", {\n    className: \"material-icons right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"send\") : __jsx(\"div\", {\n    class: \"preloader-wrapper small active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    class: \"spinner-layer spinner-green-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    class: \"circle-clipper left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    class: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 19\n    }\n  })), __jsx(\"div\", {\n    class: \"gap-patch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    class: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  })), __jsx(\"div\", {\n    class: \"circle-clipper right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    class: \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  })))))));\n}","map":{"version":3,"sources":["/Users/kevin/Desktop/Next.js-Mongodb-Authentication-App/components/AfterLogin.jsx"],"names":["React","useState","useUser","afterLogin","errorMsg","setErrorMsg","user","Loader","updateLoad","handleSubmit","e","preventDefault","body","message","currentTarget","value","name","res","fetch","method","headers","JSON","stringify","status","M","toast","html","classes","text","passKey","color","marginTop"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,cAAxB;AAEA,eAAe,SAASC,UAAT,GAAsB;AACnC,QAAM;AAAA,OAACC,QAAD;AAAA,OAAWC;AAAX,MAA0BJ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACK,IAAD,IAASJ,OAAO,EAAtB;AACA,QAAM;AAAA,OAACK,MAAD;AAAA,OAASC;AAAT,MAAuBP,QAAQ,CAAC,KAAD,CAArC;;AACA,QAAMQ,YAAY,GAAG,MAAOC,CAAP,IAAa;AAChCA,IAAAA,CAAC,CAACC,cAAF;AACAH,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAMI,IAAI,GAAG;AACXC,MAAAA,OAAO,EAAEH,CAAC,CAACI,aAAF,CAAgBD,OAAhB,CAAwBE,KADtB;AAEXC,MAAAA,IAAI,EAAEV,IAAI,CAACU;AAFA,KAAb;AAIA,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,cAAD,EAAiB;AACtCC,MAAAA,MAAM,EAAE,MAD8B;AAEtCC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAF6B;AAGtCR,MAAAA,IAAI,EAAES,IAAI,CAACC,SAAL,CAAeV,IAAf;AAHgC,KAAjB,CAAvB;;AAKA,QAAIK,GAAG,CAACM,MAAJ,KAAe,GAAnB,EAAwB;AACtBC,MAAAA,CAAC,CAACC,KAAF,CAAQ;AAAEC,QAAAA,IAAI,EAAE,cAAR;AAAwBC,QAAAA,OAAO,EAAE;AAAjC,OAAR;AACD,KAFD,MAEO;AACLtB,MAAAA,WAAW,CAAC,MAAMY,GAAG,CAACW,IAAJ,EAAP,CAAX;AACD;;AACDpB,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAlBD;;AAmBA,SACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACqBF,IAAI,CAACuB,OAD1B,CADF,CADF,CADF,EAQGzB,QAAQ,GAAG;AAAG,IAAA,KAAK,EAAE;AAAE0B,MAAAA,KAAK,EAAE;AAAT,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8B1B,QAA9B,CAAH,GAAiD,IAR5D,EASE;AAAM,IAAA,SAAS,EAAC,SAAhB;AAA0B,IAAA,QAAQ,EAAEK,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE;AACE,IAAA,EAAE,EAAC,SADL;AAEE,IAAA,SAAS,EAAC,sBAFZ;AAGE,IAAA,IAAI,EAAC,SAHP;AAIE,IAAA,QAAQ,MAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAQE;AAAO,IAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BARF,CADF,EAWE;AACE,IAAA,SAAS,EAAC,yCADZ;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,KAAK,EAAE;AAAEsB,MAAAA,SAAS,EAAE;AAAb,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAMG,CAACxB,MAAD,GACC;AAAG,IAAA,SAAS,EAAC,sBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,GAGC;AAAK,IAAA,KAAK,EAAC,gCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,KAAK,EAAC,kCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,KAAK,EAAC,qBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE;AAAK,IAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,EAOE;AAAK,IAAA,KAAK,EAAC,sBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAPF,CADF,CATJ,CAXF,CATF,CADF;AAgDD","sourcesContent":["import React, { useState } from \"react\";\nimport { useUser } from \"../lib/hooks\";\n\nexport default function afterLogin() {\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [user] = useUser();\n  const [Loader, updateLoad] = useState(false);\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    updateLoad(true);\n    const body = {\n      message: e.currentTarget.message.value,\n      name: user.name,\n    };\n    const res = await fetch(\"/api/message\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    });\n    if (res.status === 201) {\n      M.toast({ html: \"Message sent\", classes: \"green\" });\n    } else {\n      setErrorMsg(await res.text());\n    }\n    updateLoad(false);\n  };\n  return (\n    <div className=\"row\">\n      <div className=\"col s12 m12\">\n        <div className=\"card-panel horizontal blue \">\n          <span className=\"white-text h3\">\n            Your PassKey is : {user.passKey}\n          </span>\n        </div>\n      </div>\n      {errorMsg ? <p style={{ color: \"teal\" }}>{errorMsg}</p> : null}\n      <form className=\"col s12\" onSubmit={handleSubmit}>\n        <div className=\"input-field col s12 m9\">\n          <i className=\"material-icons prefix\">mode_edit</i>\n          <textarea\n            id=\"message\"\n            className=\"materialize-textarea\"\n            name=\"message\"\n            required\n          ></textarea>\n          <label htmlFor=\"message\">Message for developer</label>\n        </div>\n        <button\n          className=\"btn-small waves-effect waves-light blue\"\n          type=\"submit\"\n          style={{ marginTop: \"1.7rem\" }}\n        >\n          Send\n          {!Loader ? (\n            <i className=\"material-icons right\">send</i>\n          ) : (\n            <div class=\"preloader-wrapper small active\">\n              <div class=\"spinner-layer spinner-green-only\">\n                <div class=\"circle-clipper left\">\n                  <div class=\"circle\"></div>\n                </div>\n                <div class=\"gap-patch\">\n                  <div class=\"circle\"></div>\n                </div>\n                <div class=\"circle-clipper right\">\n                  <div class=\"circle\"></div>\n                </div>\n              </div>\n            </div>\n          )}\n        </button>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}