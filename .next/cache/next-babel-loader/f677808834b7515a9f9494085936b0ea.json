{"ast":null,"code":"import { ObjectID } from 'mongodb';\nexport async function getUser(req, userId) {\n  var _req$user;\n\n  const user = await req.db.collection('users').findOne({\n    _id: ObjectID(userId)\n  });\n  if (!user) return null;\n  const {\n    _id,\n    name,\n    email,\n    bio,\n    profilePicture\n  } = user;\n  const isAuth = _id === ((_req$user = req.user) === null || _req$user === void 0 ? void 0 : _req$user._id);\n  return JSON.parse(JSON.stringify({\n    _id,\n    name,\n    email: email,\n    bio: bio || 'Hey there !',\n    profilePicture: profilePicture || \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-user'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E\"\n  }));\n}","map":{"version":3,"sources":["/Users/kevin/Desktop/Next.js-Mongodb-Authentication-App/lib/db.js"],"names":["ObjectID","getUser","req","userId","user","db","collection","findOne","_id","name","email","bio","profilePicture","isAuth","JSON","parse","stringify"],"mappings":"AAAA,SAASA,QAAT,QAAyB,SAAzB;AAEA,OAAO,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,MAA5B,EAAoC;AAAA;;AACvC,QAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,EAAJ,CAAOC,UAAP,CAAkB,OAAlB,EAA2BC,OAA3B,CAAmC;AACpDC,IAAAA,GAAG,EAAER,QAAQ,CAACG,MAAD;AADuC,GAAnC,CAAnB;AAGA,MAAI,CAACC,IAAL,EAAW,OAAO,IAAP;AACX,QAAM;AACJI,IAAAA,GADI;AACCC,IAAAA,IADD;AACOC,IAAAA,KADP;AACcC,IAAAA,GADd;AACmBC,IAAAA;AADnB,MAEFR,IAFJ;AAGA,QAAMS,MAAM,GAAGL,GAAG,mBAAKN,GAAG,CAACE,IAAT,8CAAK,UAAUI,GAAf,CAAlB;AACA,SAAOM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe;AAC/BR,IAAAA,GAD+B;AAE/BC,IAAAA,IAF+B;AAG/BC,IAAAA,KAAK,EAAEA,KAHwB;AAI/BC,IAAAA,GAAG,EAACA,GAAG,IAAI,aAJoB;AAK/BC,IAAAA,cAAc,EAAEA,cAAc,IAAI;AALH,GAAf,CAAX,CAAP;AAOH","sourcesContent":["import { ObjectID } from 'mongodb';  \n\nexport async function getUser(req, userId) {\n    const user = await req.db.collection('users').findOne({\n      _id: ObjectID(userId),\n    });\n    if (!user) return null;\n    const {\n      _id, name, email, bio, profilePicture,\n    } = user;\n    const isAuth = _id === req.user?._id;\n    return JSON.parse(JSON.stringify({\n      _id,\n      name,\n      email: email,\n      bio:bio || 'Hey there !',\n      profilePicture: profilePicture || \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-user'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'%3E%3C/path%3E%3Ccircle cx='12' cy='7' r='4'%3E%3C/circle%3E%3C/svg%3E\",\n    }));\n} "]},"metadata":{},"sourceType":"module"}