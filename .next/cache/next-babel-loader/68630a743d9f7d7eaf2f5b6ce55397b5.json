{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/kevin/Desktop/Next.js-Mongodb-Authentication-App/components/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from \"next/link\";\nimport { useUser } from \"../lib/hooks\";\nimport AfterLogin from \"../components/AfterLogin\";\nimport { useState } from \"react\";\nexport default function Home() {\n  _s();\n\n  var _useUser = useUser(),\n      _useUser2 = _slicedToArray(_useUser, 2),\n      user = _useUser2[0],\n      mutate = _useUser2[1].mutate;\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      isLoading = _useState[1];\n\n  var handleLogout = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              isLoading(true);\n              _context.next = 3;\n              return fetch(\"/api/auth\", {\n                method: \"DELETE\"\n              });\n\n            case 3:\n              // set the user state to null\n              mutate(null);\n              M.toast({\n                html: \"Logged out\",\n                classes: \"toast\"\n              });\n              isLoading(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleLogout() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"card horizontal z-depth-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"card-image hide-on-small-only\",\n    style: {\n      display: \"flex\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, !user ? __jsx(React.Fragment, null, __jsx(\"img\", {\n    src: \"https://cdn.dribbble.com/users/2251626/screenshots/6831464/welcome_dribbble.png\",\n    className: \"responsive-img\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 15\n    }\n  })) : __jsx(\"img\", {\n    src: \"https://cdn.dribbble.com/users/1090020/screenshots/10535970/media/766c2d3d6101fca5d441420a6412abf1.png\",\n    className: \"responsive-img\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: \"card-stacked center-align\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, loading ? __jsx(\"div\", {\n    className: \"progress white\",\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"indeterminate blue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  })) : null, __jsx(\"div\", {\n    className: \"card-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, __jsx(\"h2\", {\n    style: {\n      marginTop: \"0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    style: {\n      fontWeight: \"bolder\",\n      color: \"\".concat(user ? \"#2196f3\" : \"#7ed\"),\n      textShadow: \"2px 2px black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"Hello\", \" \"), !user ? \"Stranger\" : user.name), !user ? __jsx(\"div\", {\n    className: \"card-title und\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"Welcome to\", \" \", __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, __jsx(\"a\", {\n    onClick: function onClick() {\n      return M.toast({\n        html: \"Coming soon\",\n        classes: \"toast\"\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, \"Tushar.dev\"))) : null, __jsx(\"div\", {\n    className: \"col s12 m12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, !user ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"card-panel #80cbc4 teal lighten-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, __jsx(\"span\", {\n    className: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, \"Please Contact us to receive your login details for the Live Event\"))) : __jsx(AfterLogin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }))), __jsx(\"div\", {\n    className: \"card-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, !user ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, __jsx(\"a\", {\n    className: \"waves-effect waves-light btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, \"Log in\")))) : __jsx(React.Fragment, null, __jsx(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/user/[userId]\",\n    as: \"/user/\".concat(user._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, __jsx(\"a\", {\n    className: \"waves-effect waves-light btn blue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, \"Profile\")), __jsx(Link, {\n    href: \"/user/[userId]/test\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, __jsx(\"a\", {\n    className: \"waves-effect waves-light btn blue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, \"Test Page\")), __jsx(\"a\", {\n    role: \"button\",\n    onClick: handleLogout,\n    className: \"waves-effect waves-light btn blue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }, \"Logout\")))))));\n}\n\n_s(Home, \"ioE3BaEa1UWkmQm4rwe8O5AHaqs=\", false, function () {\n  return [useUser];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/kevin/Desktop/Next.js-Mongodb-Authentication-App/components/Home.jsx"],"names":["Link","useUser","AfterLogin","useState","Home","user","mutate","loading","isLoading","handleLogout","fetch","method","M","toast","html","classes","display","margin","marginTop","fontWeight","color","textShadow","name","justifyContent","_id"],"mappings":";;;;;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAC7B,iBAA2BH,OAAO,EAAlC;AAAA;AAAA,MAAOI,IAAP;AAAA,MAAeC,MAAf,gBAAeA,MAAf;;AACA,kBAA6BH,QAAQ,CAAC,KAAD,CAArC;AAAA,MAAOI,OAAP;AAAA,MAAgBC,SAAhB;;AACA,MAAMC,YAAY;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AACnBD,cAAAA,SAAS,CAAC,IAAD,CAAT;AADmB;AAAA,qBAEbE,KAAK,CAAC,WAAD,EAAc;AACvBC,gBAAAA,MAAM,EAAE;AADe,eAAd,CAFQ;;AAAA;AAKnB;AACAL,cAAAA,MAAM,CAAC,IAAD,CAAN;AACAM,cAAAA,CAAC,CAACC,KAAF,CAAQ;AAAEC,gBAAAA,IAAI,EAAE,YAAR;AAAsBC,gBAAAA,OAAO,EAAE;AAA/B,eAAR;AACAP,cAAAA,SAAS,CAAC,KAAD,CAAT;;AARmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZC,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAUA,SACE,4BACE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAC,+BADZ;AAEE,IAAA,KAAK,EAAE;AAAEO,MAAAA,OAAO,EAAE;AAAX,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIG,CAACX,IAAD,GACC,4BACE;AACE,IAAA,GAAG,EAAC,iFADN;AAEE,IAAA,SAAS,EAAC,gBAFZ;AAGE,IAAA,GAAG,EAAC,EAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,GASC;AACE,IAAA,GAAG,EAAC,wGADN;AAEE,IAAA,SAAS,EAAC,gBAFZ;AAGE,IAAA,GAAG,EAAC,EAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,CADF,EAqBE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGE,OAAO,GACN;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,KAAK,EAAE;AAAEU,MAAAA,MAAM,EAAE;AAAV,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADM,GAIJ,IALN,EAME;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,UAAU,EAAE,QADP;AAELC,MAAAA,KAAK,YAAKf,IAAI,GAAG,SAAH,GAAe,MAAxB,CAFA;AAGLgB,MAAAA,UAAU,EAAE;AAHP,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAOQ,GAPR,CADF,EAUG,CAAChB,IAAD,GAAQ,UAAR,GAAqBA,IAAI,CAACiB,IAV7B,CADF,EAaG,CAACjB,IAAD,GACC;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACa,GADb,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,OAAO,EAAE;AAAA,aACPO,CAAC,CAACC,KAAF,CAAQ;AAAEC,QAAAA,IAAI,EAAE,aAAR;AAAuBC,QAAAA,OAAO,EAAE;AAAhC,OAAR,CADO;AAAA,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CAFF,CADD,GAaG,IA1BN,EA2BE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACV,IAAD,GACC,4BACE;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0EADF,CADF,CADD,GAUC,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,CA3BF,CANF,EAiDE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACA,IAAD,GACC,4BACE;AACE,IAAA,KAAK,EAAE;AAAEW,MAAAA,OAAO,EAAE,MAAX;AAAmBO,MAAAA,cAAc,EAAE;AAAnC,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,8BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAHF,CADF,CADD,GAWC,4BAEE;AACE,IAAA,KAAK,EAAE;AAAEP,MAAAA,OAAO,EAAE,MAAX;AAAmBO,MAAAA,cAAc,EAAE;AAAnC,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,gBAAX;AAA4B,IAAA,EAAE,kBAAWlB,IAAI,CAACmB,GAAhB,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,mCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAHF,EAME,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,qBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,mCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,CANF,EAWE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAEf,YAFX;AAGE,IAAA,SAAS,EAAC,mCAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXF,CAFF,CAZJ,CAjDF,CArBF,CADF,CADF;AAgHD;;GA7HuBL,I;UACKH,O;;;KADLG,I","sourcesContent":["import Link from \"next/link\";\nimport { useUser } from \"../lib/hooks\";\nimport AfterLogin from \"../components/AfterLogin\";\nimport { useState } from \"react\";\n\nexport default function Home() {\n  const [user, { mutate }] = useUser();\n  const [loading, isLoading] = useState(false);\n  const handleLogout = async () => {\n    isLoading(true);\n    await fetch(\"/api/auth\", {\n      method: \"DELETE\",\n    });\n    // set the user state to null\n    mutate(null);\n    M.toast({ html: \"Logged out\", classes: \"toast\" });\n    isLoading(false);\n  };\n  return (\n    <>\n      <div className=\"card horizontal z-depth-5\">\n        <div\n          className=\"card-image hide-on-small-only\"\n          style={{ display: \"flex\" }}\n        >\n          {!user ? (\n            <>\n              <img\n                src=\"https://cdn.dribbble.com/users/2251626/screenshots/6831464/welcome_dribbble.png\"\n                className=\"responsive-img\"\n                alt=\"\"\n              />\n            </>\n          ) : (\n            <img\n              src=\"https://cdn.dribbble.com/users/1090020/screenshots/10535970/media/766c2d3d6101fca5d441420a6412abf1.png\"\n              className=\"responsive-img\"\n              alt=\"\"\n            />\n          )}\n        </div>\n        <div className=\"card-stacked center-align\">\n          {loading ? (\n            <div className=\"progress white\" style={{ margin: 0 }}>\n              <div className=\"indeterminate blue\"></div>\n            </div>\n          ) : null}\n          <div className=\"card-content\">\n            <h2 style={{ marginTop: \"0\" }}>\n              <span\n                style={{\n                  fontWeight: \"bolder\",\n                  color: `${user ? \"#2196f3\" : \"#7ed\"}`,\n                  textShadow: \"2px 2px black\",\n                }}\n              >\n                Hello{\" \"}\n              </span>\n              {!user ? \"Stranger\" : user.name}\n            </h2>\n            {!user ? (\n              <div className=\"card-title und\">\n                Welcome to{\" \"}\n                <strong>\n                  <a\n                    onClick={() =>\n                      M.toast({ html: \"Coming soon\", classes: \"toast\" })\n                    }\n                  >\n                    Tushar.dev\n                  </a>\n                </strong>\n              </div>\n            ) : null}\n            <div className=\"col s12 m12\">\n              {!user ? (\n                <>\n                  <div className=\"card-panel #80cbc4 teal lighten-2\">\n                    <span className=\"white\">\n                      Please Contact us to receive your login details for the\n                      Live Event\n                    </span>\n                  </div>\n                </>\n              ) : (\n                <AfterLogin />\n              )}\n            </div>\n          </div>\n\n          <div className=\"card-action\">\n            {!user ? (\n              <>\n                <div\n                  style={{ display: \"flex\", justifyContent: \"space-between\" }}\n                >\n                  <Link href=\"/login\">\n                    <a className=\"waves-effect waves-light btn\">Log in</a>\n                  </Link>\n                </div>\n              </>\n            ) : (\n              <>\n                {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                <div\n                  style={{ display: \"flex\", justifyContent: \"space-between\" }}\n                >\n                  <Link href=\"/user/[userId]\" as={`/user/${user._id}`}>\n                    <a className=\"waves-effect waves-light btn blue\">Profile</a>\n                  </Link>\n                  <Link href=\"/user/[userId]/test\">\n                    <a className=\"waves-effect waves-light btn blue\">\n                      Test Page\n                    </a>\n                  </Link>\n                  <a\n                    role=\"button\"\n                    onClick={handleLogout}\n                    className=\"waves-effect waves-light btn blue\"\n                  >\n                    Logout\n                  </a>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}