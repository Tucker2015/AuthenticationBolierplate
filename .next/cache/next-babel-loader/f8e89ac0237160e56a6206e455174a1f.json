{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/kevin/Desktop/Next.js-Mongodb-Authentication-App/pages/test.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useUser } from '../../../lib/hooks';\nimport { useState } from 'react';\nexport default function Test() {\n  _s();\n\n  var _useUser = useUser(),\n      _useUser2 = _slicedToArray(_useUser, 2),\n      user = _useUser2[0],\n      mutate = _useUser2[1].mutate;\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      isLoading = _useState[1];\n\n  var handleLogout = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              isLoading(true);\n              _context.next = 3;\n              return fetch('/api/auth', {\n                method: 'DELETE'\n              });\n\n            case 3:\n              // set the user state to null\n              mutate(null);\n              M.toast({\n                html: 'Logged out',\n                classes: 'toast'\n              });\n              isLoading(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleLogout() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  }, loading ? __jsx(\"div\", {\n    className: \"progress white\",\n    style: {\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 24\n    }\n  }, __jsx(\"div\", {\n    className: \"indeterminate blue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 17\n    }\n  })) : null, !user ? __jsx(React.Fragment, null, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }\n  }, \" Your Not Logged in\")) : __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 21\n    }\n  }, \"Logged In\"), __jsx(\"div\", {\n    className: \"card-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, !user ? __jsx(React.Fragment, null, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 25\n    }\n  }, __jsx(Link, {\n    href: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 29\n    }\n  }, __jsx(\"a\", {\n    className: \"waves-effect waves-light btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 33\n    }\n  }, \"Log in\")), __jsx(Link, {\n    href: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 29\n    }\n  }, __jsx(\"a\", {\n    className: \"waves-effect waves-light btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 33\n    }\n  }, \"Sign up\")))) : __jsx(React.Fragment, null, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }, __jsx(Link, {\n    href: \"/user/[userId]\",\n    as: \"/user/\".concat(user._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, __jsx(\"a\", {\n    className: \"waves-effect waves-light btn blue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 33\n    }\n  }, \"Profile\")), __jsx(\"a\", {\n    role: \"button\",\n    onClick: handleLogout,\n    className: \"waves-effect waves-light btn blue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, \"Logout\")), __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, \"Hello \", user.name))));\n}\n\n_s(Test, \"ioE3BaEa1UWkmQm4rwe8O5AHaqs=\", false, function () {\n  return [useUser];\n});\n\n_c = Test;\n\nvar _c;\n\n$RefreshReg$(_c, \"Test\");","map":{"version":3,"sources":["/Users/kevin/Desktop/Next.js-Mongodb-Authentication-App/pages/test.js"],"names":["Link","useUser","useState","Test","user","mutate","loading","isLoading","handleLogout","fetch","method","M","toast","html","classes","margin","display","justifyContent","_id","name"],"mappings":"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","sourcesContent":["import Link from 'next/link';\nimport { useUser } from '../../../lib/hooks';\nimport { useState } from 'react'\n\nexport default function Test() {\n\n    const [user, { mutate }] = useUser();\n    const [loading, isLoading] = useState(false);\n\n    const handleLogout = async () => {\n        isLoading(true);\n        await fetch('/api/auth', {\n            method: 'DELETE',\n        });\n        // set the user state to null\n        mutate(null);\n        M.toast({ html: 'Logged out', classes: 'toast' })\n        isLoading(false);\n    };\n\n    return (\n        <div>\n            {loading ? <div className=\"progress white\" style={{ margin: 0 }}>\n                <div className=\"indeterminate blue\"></div>\n            </div> : null}\n            {!user ? (<>\n                <h1> Your Not Logged in</h1>\n            </>) : (<h1>Logged In</h1>)}\n\n            <div className=\"card-action\">\n                {!user ? (\n                    <>\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <Link href=\"/login\">\n                                <a className=\"waves-effect waves-light btn\">Log in</a>\n                            </Link>\n                            <Link href=\"/signup\">\n                                <a className=\"waves-effect waves-light btn\">Sign up</a>\n                            </Link>\n                        </div>\n                    </>\n                ) : (\n                    <>\n\n                        {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                            <Link href=\"/user/[userId]\" as={`/user/${user._id}`}>\n                                <a className=\"waves-effect waves-light btn blue\">Profile</a>\n                            </Link>\n                            <a role=\"button\" onClick={handleLogout} className=\"waves-effect waves-light btn blue\">Logout</a>\n                        </div>\n                        <h1>Hello {user.name}</h1>\n                    </>\n                )}\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}