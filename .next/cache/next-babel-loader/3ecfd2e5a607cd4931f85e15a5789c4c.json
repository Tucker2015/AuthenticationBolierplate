{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/kevin/Desktop/Next.js-Mongodb-Authentication-App/components/AfterLogin.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { useUser } from '../lib/hooks';\nexport default function afterLogin() {\n  _s();\n\n  var _useState = useState(\"\"),\n      errorMsg = _useState[0],\n      setErrorMsg = _useState[1];\n\n  var _useUser = useUser(),\n      _useUser2 = _slicedToArray(_useUser, 1),\n      user = _useUser2[0];\n\n  var _useState2 = useState(false),\n      Loader = _useState2[0],\n      updateLoad = _useState2[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var body, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              updateLoad(true);\n              body = {\n                message: e.currentTarget.message.value,\n                name: user.name\n              };\n              _context.next = 5;\n              return fetch(\"/api/message\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(body)\n              });\n\n            case 5:\n              res = _context.sent;\n\n              if (!(res.status === 201)) {\n                _context.next = 10;\n                break;\n              }\n\n              M.toast({\n                html: 'Message sent',\n                classes: 'green'\n              });\n              _context.next = 15;\n              break;\n\n            case 10:\n              _context.t0 = setErrorMsg;\n              _context.next = 13;\n              return res.text();\n\n            case 13:\n              _context.t1 = _context.sent;\n              (0, _context.t0)(_context.t1);\n\n            case 15:\n              updateLoad(false);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"col s12 m12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"card-panel horizontal blue \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: \"white-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, \"Hey you made it here \", user ? user.name : 'Stranger', \", we all were waiting for you.\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 128\n    }\n  }), \"I hope you like this Authentication module, Its simple yet important to know. I'll be updating it with many new stuff frequently.\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 68\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 74\n    }\n  }), \"Till then you can look around.\", __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 110\n    }\n  }, \" Don't forget to drop a message for me.\")))), errorMsg ? __jsx(\"p\", {\n    style: {\n      color: \"teal\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, errorMsg) : null, __jsx(\"form\", {\n    className: \"col s12\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"input-field col s12 m9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    className: \"material-icons prefix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, \"mode_edit\"), __jsx(\"textarea\", {\n    id: \"message\",\n    className: \"materialize-textarea\",\n    name: \"message\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }), __jsx(\"label\", {\n    htmlFor: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, \"Message for developer\")), __jsx(\"button\", {\n    className: \"btn-small waves-effect waves-light blue\",\n    type: \"submit\",\n    style: {\n      marginTop: '1.7rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Send\", !Loader ? __jsx(\"i\", {\n    className: \"material-icons right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 22\n    }\n  }, \"send\") : __jsx(\"div\", {\n    \"class\": \"preloader-wrapper small active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"spinner-layer spinner-green-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"circle-clipper left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    \"class\": \"gap-patch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 31\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    \"class\": \"circle-clipper right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 31\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  })))))));\n}\n\n_s(afterLogin, \"WwZWy15T/8gxQuEptdFvYAeLy9M=\", false, function () {\n  return [useUser];\n});","map":{"version":3,"sources":["/Users/kevin/Desktop/Next.js-Mongodb-Authentication-App/components/AfterLogin.jsx"],"names":["React","useState","useUser","afterLogin","errorMsg","setErrorMsg","user","Loader","updateLoad","handleSubmit","e","preventDefault","body","message","currentTarget","value","name","fetch","method","headers","JSON","stringify","res","status","M","toast","html","classes","text","color","marginTop"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useUser } from '../lib/hooks';\n\nexport default function afterLogin() {\n    const [errorMsg, setErrorMsg] = useState(\"\");\n    const [user] = useUser();\n    const [Loader,updateLoad]=useState(false);\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        updateLoad(true);\n        const body = {\n            message: e.currentTarget.message.value,\n            name: user.name\n        };\n        const res = await fetch(\"/api/message\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify(body)\n        });\n        if (res.status === 201) {\n            M.toast({ html: 'Message sent', classes: 'green' })\n        } else {\n            setErrorMsg(await res.text());\n        }\n        updateLoad(false);\n    };\n    return (<div className=\"row\">\n        <div className=\"col s12 m12\">\n            <div className=\"card-panel horizontal blue \">\n                <span className=\"white-text\">Hey you made it here {user ? user.name : 'Stranger'}, we all were waiting for you.<br />I hope you like this Authentication module, Its simple yet important to know.\n                I'll be updating it with many new stuff frequently.<br /><br />Till then you can look around.<strong> Don't forget to drop a message for me.</strong></span>\n            </div>\n        </div>\n        {errorMsg ? (\n            <p style={{ color: \"teal\" }}>{errorMsg}</p>\n        ) : null}\n        <form className=\"col s12\" onSubmit={handleSubmit}>\n            <div className=\"input-field col s12 m9\">\n                <i className=\"material-icons prefix\">mode_edit</i>\n                <textarea id=\"message\" className=\"materialize-textarea\" name=\"message\" required></textarea>\n                <label htmlFor=\"message\">Message for developer</label>\n            </div>\n            <button className=\"btn-small waves-effect waves-light blue\" type=\"submit\" style={{ marginTop: '1.7rem' }}>Send\n            {!Loader?<i className=\"material-icons right\">send</i>:\n            <div class=\"preloader-wrapper small active\">\n                    <div class=\"spinner-layer spinner-green-only\">\n                        <div class=\"circle-clipper left\">\n                            <div class=\"circle\"></div>\n                        </div><div class=\"gap-patch\">\n                            <div class=\"circle\"></div>\n                        </div><div class=\"circle-clipper right\">\n                            <div class=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n        }\n            </button>\n        </form>\n    </div>)\n}"]},"metadata":{},"sourceType":"module"}